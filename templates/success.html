{% extends "base.html" %}

{% block title %}Success - Kansas City FIFA Fan Fest{% endblock %}

{% block content %}
<div class="success-page">
    <div class="success-container">
        <!-- Success Icon and Message -->
        <div class="success-header">
            <div class="success-icon">
                <div class="checkmark">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                        <polyline points="20,6 9,17 4,12"></polyline>
                    </svg>
                </div>
            </div>
            <h2 class="success-title">You're All Set!</h2>
            <p class="success-subtitle">
                Thanks {{ signup.name }}! Your registration for the Kansas City FIFA Fan Fest is confirmed.
            </p>
        </div>

        <!-- Registration Details -->
        <div class="registration-details">
            <div class="details-card">
                <h3>Registration Summary</h3>
                <div class="detail-row">
                    <span class="detail-label">Name:</span>
                    <span class="detail-value">{{ signup.name }}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Email:</span>
                    <span class="detail-value">{{ signup.email }}</span>
                </div>
                {% if signup.phone %}
                <div class="detail-row">
                    <span class="detail-label">Phone:</span>
                    <span class="detail-value">{{ signup.phone }}</span>
                </div>
                {% endif %}
                <div class="detail-row">
                    <span class="detail-label">Zip Code:</span>
                    <span class="detail-value">{{ signup.zip_code }}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Events of Interest:</span>
                    <span class="detail-value">
                        {% for event in signup.events_interested %}
                            <span class="event-tag">{{ event }}</span>
                        {% endfor %}
                    </span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Registered:</span>
                    <span class="detail-value">{{ signup.created_at.strftime('%B %d, %Y at %I:%M %p') }}</span>
                </div>
            </div>
        </div>

        <!-- Next Steps -->
        <div class="next-steps">
            <h3>What Happens Next?</h3>
            <p class="next-steps-text">
                {% if signup.phone %}We've sent you a confirmation text message.{% else %}Check your email for confirmation details.{% endif %}
                We'll keep you informed about event details, schedules, and any important updates.
            </p>
        </div>

        <!-- Actions -->
        <div class="action-buttons">
            <a href="{{ url_for('index') }}" class="btn btn-secondary">
                Register Another Person
            </a>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script>
    // Track success page view
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof gtag !== 'undefined') {
            gtag('event', 'signup_complete', {
                'event_category': 'conversion',
                'event_label': 'fifa_signup_success'
            });
        }
    });
</script>
{% endblock %}
